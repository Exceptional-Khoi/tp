@startuml
' --- Minimal consistent styling ---
skinparam sequenceParticipantType rectangle
skinparam shadowing false
skinparam responseMessageBelowArrow true
hide footbox

actor User
participant ":UI" as UI
participant ":FitChasers" as App
participant ":WorkoutManager" as WM
participant ":FileHandler" as FH
participant ":Workout" as W
participant ":Exercise" as E

User -> UI : enterText()
UI -> App : readCommand()
App -> WM : addSet(command)
activate WM

alt noActiveWorkout
  WM -> UI : showMessage("No active workout. Use /create_workout first.")
else activeWorkoutExists
  alt invalidFormat
    WM -> UI : showMessage("Missing information. Use: /add_set n/EXERCISE w/WEIGHT r/REPS")
  else validFormat
    WM -> WM : parseCommand(command)
    alt exerciseNotFound
      WM -> UI : showMessage("Exercise not found in current workout.")
    else exerciseFound
      alt invalidRepsOrWeight
        WM -> UI : showMessage("Invalid input. Reps: 1–1000, Weight: 0–1000.")
      else validInputs
        WM -> E : addSet(weight, reps)
        WM -> FH : saveMonthList(currentMonth, workouts)
        WM -> UI : showMessage("Added set: " + weight + "kg × " + reps)
      end
    end
  end
end

WM --> App : message
deactivate WM

App --> UI : message
UI -> User : displayMessage()

@enduml
