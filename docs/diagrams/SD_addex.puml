@startuml
title FitChasers Add Exercise - Sequence Diagram
' --- Styling (kept minimal & consistent) ---
skinparam sequenceParticipantType rectangle
skinparam shadowing false
skinparam responseMessageBelowArrow true
hide footbox

actor    User
participant ":UI" as UI
participant ":FitChasers" as App
participant ":WorkoutManager" as WM
participant ":FileHandler" as FH
participant ":Exercise" as E
participant ":Workout" as W

User -> UI : enterText()
UI -> App : readCommand()
App -> WM : addExercise(command)

alt noActiveWorkout
  WM -> UI : showMessage("No active workout. Use /create_workout first.")
else activeWorkoutExists
  alt invalidFormat
    WM -> UI : showMessage("Missing information. Use: /add_exercise n/NAME r/REPS")
  else validFormat
    WM -> WM : parseCommand(command)
    alt invalidName
      WM -> UI : showMessage("Invalid exercise name.")
    else validName
      alt invalidReps
        WM -> UI : showMessage("Invalid reps. Use 1â€“1000.")
      else validReps
        WM -> E : new(name, reps)
        WM -> W : addExercise(exercise)
        WM -> FH : saveMonthList(currentMonth, workouts)
        WM -> UI : showMessage("Added exercise: " + name)
      end
    end
  end
end

UI -> User : displayMessage()
@enduml
